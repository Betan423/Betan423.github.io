
[{"content":"嗨 我是貝坦\n我要去打宿儺了\n上次更新時間: 2024-07-20\r","date":"25 July 2024","externalUrl":null,"permalink":"/","section":"betan423.github.io","summary":"嗨 我是貝坦","title":"betan423.github.io","type":"page"},{"content":"","date":"25 July 2024","externalUrl":null,"permalink":"/tags/code/","section":"Tags","summary":"","title":"Code","type":"tags"},{"content":"\n因為最近dc很多音樂機器人都壞掉\n一氣之下就直接透過chatGPT寫一個出來了\r前言 #\r其實真的沒啥技術含量，因為代碼真的都是叫GPT幫我搓出來的\n但還是想說丟上來好了，畢竟在自己本地架機器人就不用看其他人的臉色了 (X 基本上會從頭開始講如何建立，但有些我沒碰到的功能就不會特別介紹\n因為我自己也不懂\n想抄代碼的可以直接跳到那邊就好了\n但還是放一下跟GPT溝通的流程之類的 水一下內容\n建立DC機器人 #\r首先先到\rDiscord Developer Portal 建立一個機器人出來\n登入後左上角New Application點下去，再取個名子，專屬你ㄉ機器人就誕生了\nNew Application\r剛進去就可以先看到設定的介面，這邊基本上就是可以設定機器人的名稱、頭貼、還有點進機器人會看到的描述\n然後DESCRIPTION的部分會在 關於我 的部分顯示 取得token #\r接著到旁邊選單選擇Bot\n在這邊可以額外設定機器人的橫幅(BANNER)\n而我們這邊主要要取得機器人的TOKEN\n點下去Reset Token確認後取得全新的token先自己記起來\n切記不要外洩 因為有token就能夠執行你的機器人了\nReset Token\r接著滑到下面Privileged Gateway Intents的部分，接著把三個選項都打勾\n這邊主要是要讓機器人能夠接收指令與用戶互動\n邀進伺服器 #\r進入OAuth2的部分，滑到最下面的OAuth2 URL Generator\n主要勾選bot就好\n而下面的BOT PERMISSIONS則是勾選Administrator\n直接拿所有權限就不用再慢慢設定了\nbot\rAdministrator\r再來往下看就可以在 GENERATED URL 看到你機器人的邀請連接了\n基本上機器人的部分就到這邊了 再來就是要寫code的部分了\n代碼 #\r安裝所需的庫 #\r打開你的cmd 一起快樂安裝\npip install discord.py youtube_dl pip install yt-dlp ffmpeg安裝 #\r前往\rBtbN FFmpeg Releases下載 ffmpeg-master-latest-win64-gpl.zip\n解壓縮後丟到一個不太會動到的地方\n接著打開環境變數，win11打開環境變數的方法如下\n設定 系統 系統資訊 進階系統設定 再來就能看到環境變數了\n接著選擇Path然後編輯，新增你剛剛解壓縮下來的檔案中bin資料夾的位置 (C:\\ffmpeg\\bin) 這樣就順利安裝完成了，可以檢查看看有沒有順利安裝，沒有的話就重開機看看\nffmpeg -version bot.py #\r主要可以分兩種撥放方式\n1.線上串流(較不穩定)\n2.下載到本機(很穩定)\n先講第一種線上串流的部分\n穩定性的部分就真的很爛 大概每首歌都撥不完 大概撥個一兩分鐘左右而已\n與chatGPT交流 #\r","date":"25 July 2024","externalUrl":null,"permalink":"/posts/discordbot/","section":"Posts","summary":"透過chatGPT抄來的機器人","title":"DC音樂機器人製作","type":"posts"},{"content":"","date":"25 July 2024","externalUrl":null,"permalink":"/posts/","section":"Posts","summary":"","title":"Posts","type":"posts"},{"content":"","date":"25 July 2024","externalUrl":null,"permalink":"/tags/","section":"Tags","summary":"","title":"Tags","type":"tags"},{"content":"\n其實pre-exam也寫在這裡了 因為兩個沒差多少\r前言 #\r這次能打到前五真的覺得很不可思議，感覺今年題目有比較難\n雖然我也沒有打過之前的比賽就對了\n這次能打到第五名首先要特別感謝努力的自己 ，還有要特別感謝成大資安社還有B33F 50μP戰隊，提供了許多學習資源讓我學習 ，不過這次能打到那麼高真的覺得自己只是單純運氣好，比賽的時候想到比較多奇怪的方法，很多題還都是被我硬搓出來的\n而且賽後發現很多本來名次在我後面的，在pre-exam的名次都超過我了🛐\n建議想看比較正規解的人可以去看看別人的write up，我的真的都比較偏通靈向\n廢話夠多了，再來就進入到WriteUp的部分了\nScoreboard #\r先丟上自己的記分板還有賽後超長的記分板 我是MFCTF完整記分板\n我是pre-exam完整記分板\nMisc #\rWelcome #\r這次的Welcome沒有整活，單純點開題目描述就有了 flag:AIS3{Welc0me_to_AIS3_PreExam_2o24!}\n好歹也把pre-exam改成MFCTF吧 Quantum Nim Heist #\r這題是賽後在pre-exam才解出來的\r這題當初在MFCTF的時候是想說可能要先去破解他hash加密的部分\n然後自己找出把1加密後的結果再拿去讀檔\n所以MFCTF的時候想很久也沒有想出來該怎麼做\n結果賽後在pre-exam的時候無聊去亂試意外就找到破解的地方了\nsolve:\r如果一開始遊玩時亂輸入的話會顯示錯誤，因此就先正常進行遊戲動個幾步，後面直接按enter就會發現沒有報錯，而且對手也會動下一步\n因此再來就是等對手動到剩下最後一排的時候再去收割就好了 flag:AIS3{Ar3_y0u_a_N1m_ma57er_0r_a_Crypt0_ma57er?} Reverse #\rThe Long Print #\r先透過IDA查看反編譯後的代碼，主要可以發現在輸出的部分會重複執行sleep，因此無法直接透過執行來查看flag ，並且可以看到flag應該是存在v4也就是rsp的部分\n這邊再特別解釋一下，因為從上面反編譯後可以看到輸出後會再做V4\u0026gt;\u0026gt;=8的動作 因此這邊就是每次察看rsp的末兩位就好了 我一開始是透過gdb來在sleep的地方下斷點，然後直接jump到下一行，結果發現最後拚出來的flag怪怪的 其實這邊這個方法也可以 只是我當時看錯東西\n所以又去嘗試透過IDA先找到sleep的地方換成16進制檔案時在哪，再透過010Editor把那部分改成90，也就是不進行任何動作(這部分等等的火拳也會用到，會再詳細介紹)\nsolve:\r兩個方法其實後面要做的事情都差不多，都一樣是丟到gdb裡面，然後再printf的地方下斷點，並查看當時rsp的質，最後再轉成ASCII字元就好了 所以再來就一樣慢慢把flag搓出來 $rsp 的質: 0x3353494100000000 0x756f597b00000000 0x6572615f00000000 0x6568745f00000000 0x73616d5f00000000 0x5f72657400000000 0x745f666f00000000 0x5f656d6900000000 0x616e616d00000000 0x656d656700000000 0x2121746e00000000 0x7d3f212100000000 flag: AIS3{You_are_the_master_of_time_management!!!!?}\n火拳のエース #\r特別感謝Kazma在讀書會上分享angr這個工具 這題是透過angr來快速解出來的 Kazma的angr教學\n也沒有到秒解 還是想了很久\nsolve:\r一樣都先透過IDA查看反編譯後的代碼，發現跟之前自己練習angr官方Lab006使用到的觀念都差不多 主要都是把數據存在動態內存再去做混淆\r題目: lab006: 所以這邊直接偷Lab006的解來稍作修改\nimport angr import claripy import sys def main(argv): path_to_binary = argv[1] project = angr.Project(path_to_binary) start_address = 0x08049661 initial_state = project.factory.blank_state( addr=start_address, add_options = { angr.options.SYMBOL_FILL_UNCONSTRAINED_MEMORY, angr.options.SYMBOL_FILL_UNCONSTRAINED_REGISTERS} ) password0 = claripy.BVS(\u0026#39;password0\u0026#39;, 64) password1 = claripy.BVS(\u0026#39;password1\u0026#39;, 64) password2 = claripy.BVS(\u0026#39;password2\u0026#39;, 64) password3 = claripy.BVS(\u0026#39;password3\u0026#39;, 64) fake_heap_address0 = 0xffffc93c pointer_to_malloc_memory_address0 = 0x090FB2D4 initial_state.memory.store(pointer_to_malloc_memory_address0, fake_heap_address0, endness=project.arch.memory_endness) fake_heap_address1 = 0xffffc94c pointer_to_malloc_memory_address1 = 0x090FB2D8 initial_state.memory.store(pointer_to_malloc_memory_address1, fake_heap_address1, endness=project.arch.memory_endness) fake_heap_address2 = 0xffffc95c pointer_to_malloc_memory_address2 = 0x090FB2DC initial_state.memory.store(pointer_to_malloc_memory_address2, fake_heap_address2, endness=project.arch.memory_endness) fake_heap_address3 = 0xffffc96c pointer_to_malloc_memory_address3 = 0x090FB2E0 initial_state.memory.store(pointer_to_malloc_memory_address3, fake_heap_address3, endness=project.arch.memory_endness) initial_state.memory.store(fake_heap_address0, password0) initial_state.memory.store(fake_heap_address1, password1) initial_state.memory.store(fake_heap_address2, password2) initial_state.memory.store(fake_heap_address3, password3) simulation = project.factory.simgr(initial_state) def is_successful(state): stdout_output = state.posix.dumps(sys.stdout.fileno()) return b\u0026#39;Yes! I remember now, this is it!\u0026#39; in stdout_output def should_abort(state): stdout_output = state.posix.dumps(sys.stdout.fileno()) return b\u0026#39;It feels slightly wrong, but almost correct...\u0026#39; in stdout_output simulation.explore(find=is_successful, avoid=should_abort) if simulation.found: solution_state = simulation.found[0] solution0 = solution_state.solver.eval(password0,cast_to=bytes).decode() solution1 = solution_state.solver.eval(password1,cast_to=bytes).decode() solution2 = solution_state.solver.eval(password2,cast_to=bytes).decode() solution3 = solution_state.solver.eval(password3,cast_to=bytes).decode() print (solution0,solution1,solution2,solution3) else: raise Exception(\u0026#39;Could not find the solution\u0026#39;) if __name__ == \u0026#39;__main__\u0026#39;: main(sys.argv) 這邊不特別解釋angr的代碼在做什麼\n有興趣的話我應該會在下下學期在NISRA上相關課程 敬請期待\n接著透過剛剛LongPrint提到的，透過16進制編輯器先把print_flag的部分刪掉，因為這邊我們直接透過strings就可以看到前半部分了 具體刪除的方法是先透過IDA在欲刪除的部分下斷點，然後開啟debug模式，接著到設定將Number of opcode bytes設成6，接著切回去就可以看到該段位於十六進制檔案中的何處了 接著就拿腳本去跑一次修改過後的檔案，發現居然錯了 後面想說那不如乾脆把與lab不同的地方(進行xor的部分)也乾脆先刪掉好了，因此重複上述操作，再去跑一次腳本，發現這次就有順利出現結果了！ 那接著就是把得到的質丟回去還有xor的檔案，接著透過gdb在進行xor後下斷點，查看xor後的質是多少 那最後flag也是順利被我搓出來了 這題大概是我這次最正規的解法了 flag:AIS3{G0D_D4MN_4N9R_15_5UP3R_P0W3RFU1!!!} Web #\rEvil Calculator #\rsolve:\r連進去發現是一個計算機，就很普通的計算機\r接著透過burp suite攔截發送1+1過去時的封包並送到Repeater查看 接著就嘗試修改1+1的部分，我先是嘗試看看能不能單純輸出字元，或是符號之類的 發現好像不能直接輸出，那接著猜測是不是只能數字，因此這邊使用簡單的len來查看，發現可以正常輸出，因此推測只要是轉成數字輸出後就可以 接著就根據題目給的檔案，知道了flag是在前一個目錄裡面，因此就嘗試結合len、read、跟Path Traversal去讀看看，發現也可以正常執行，並且知道了flag的長度為31 再來我的想法是，一個一個讀取flag的字元，因此一樣使用read只是將len改成ord來查看該字元換成ASCII為多少，但發現會報錯\n這邊直接把報錯貼到google去看，了解原來是因為直接read後就已經是數字了，不需要再透過ord去轉 因此最後直接就把ord去掉，再次察看就會發現有正常輸出了！\n然後就重複這個操作31次 flag就被我搓出來了呢 flag:AIS3{7RiANG13_5NAK3_I5_50_3Vi1}\nCrypto #\rbabyRSA #\r這題也是被我硬搓出來的 我對不起大家\nsolve:\r這邊先查看原代碼，可以發現它應該是對flag的每個字元去做個別加密的，因此最後輸出結果才會有那麼多\r這邊我想了很久，最後決定！\n對string.printable全部做一次加密 然後慢慢把flag對照搓出來 我的方法真的很笨 自己都看不下去的那種\nimport string def encrypt(pk, plaintext): key, n = pk cipher = [pow(ord(char), key, n) for char in plaintext] return cipher public=(64917055846592305247490566318353366999709874684278480849508851204751189365198819392860386504785643859122396657301225094708026391204100352682992979425763157452255909781003406602228716107905797084217189131716198785709124050278116966890968003294485934472496151582084561439957513571043497031319413889856520421733, 115676743153063753482251273007095369919613374531038288437295760314264647231038870203981488393720761532040569270340726478402172283300622527884543078194060647393394510524980830171230330673500741683492143805583694395504141751460090539868114454005046898551218623342425465650881666420408703144859108346202894384649) flag=string.printable print(flag) encrypted_msg = encrypt(public, flag) for i in range(len(flag)): print(flag[i],\u0026#34;=\u0026#34;,encrypted_msg[i]) 我是直接在記事本裡面慢慢用搜尋跟取代把flag搓出來啦，因為那個時候比賽快結束了，也懶得去想程式碼要怎麼寫，所以這邊就直接藉助了工人智慧 而且flag檔案的第一碼還不是A 害我當初困惑超久 所以後面才決定直接把全部都硬搓出來\nflag:AIS3{NeverUseTheCryptographyLibraryImplementedYourSelf}\n好欸終於寫完了\n然後如果發現我上述有錯誤的地方 都歡迎私訊我提醒我改一下\n相關問題 #\r這邊會比較偏我當初行前自己有疑惑的點，算是半個指引吧\r首先是交通的問題，這次舉辦的地點在救國團劍潭青年活動中心-集賢廳 (台北市中山北路四段16號)\n我自己是騎車過去啦，當初一直在想到底有沒有車位，後來其實發現在正門入口就有免費停車場了，而且還滿空的，因此大家可以放心騎車去了 再來是題目數量的部分，這次題目好像有比較多，以往好像都是各類型抓兩題，但這次是變成三題，不確定以後會不會也都是三題\n題目總覽 ","date":"30 June 2024","externalUrl":null,"permalink":"/posts/mfctf_writeup/","section":"Posts","summary":"2024ㄉMyFirstCTF跟pre-examㄉWriteUp","title":"2024 MyFirstCTF WriteUp","type":"posts"},{"content":"","date":"30 June 2024","externalUrl":null,"permalink":"/tags/ctf/","section":"Tags","summary":"","title":"CTF","type":"tags"},{"content":"\r建立契機 #\r發現各大佬都有自己的網站，我也想要有一個\n當初打CTF在看別人寫的Write up就想著以後也要自己寫在部落格裡\n剛好想說可以創個地方來讓我寫各種資安相關的經歷\n因此這個網站主要內容也比較都會是以我的各種資安相關經歷為主\n網站簡介 #\r這個網站是透過\rHugo 建立，並套用了\rblowfish 主題\n我應該會寫一篇有關創建此網站的小小教學 敬啟期待! 然後我其實很不會寫網站 歡迎各位大神指導我\n網站歷史 #\r2024-5-27 網站創立\n","date":"31 May 2024","externalUrl":null,"permalink":"/intro/","section":"betan423.github.io","summary":"看看我ㄉ部落格歷史。","title":"網站簡介","type":"page"},{"content":"","date":"27 May 2024","externalUrl":null,"permalink":"/tags/space/","section":"Tags","summary":"","title":"Space","type":"tags"},{"content":"\n別在這發癲 #\rPrevious\rNextsads\r早餐吃到飽 #\r好 那今天呢 風光明媚風和日麗 因爲我以前在唸書的時候 我常常覺得很奇怪就是我到學校然後看他們吃什麼早餐都是吃一份蛋餅配一杯奶茶 或是 一個漢堡配一杯奶茶 或是一份蘿蔔糕配一杯奶茶 每次吃完都說啊我吃飽了我心裡就想說：「這真的可以吃飽？」因爲你知道我通常早餐我都點3份可能 3個 我想說這樣就能吃飽？一定是唬人的嘛 我才想到說大家都是要面子的：「沒有沒有 我都帶好幾份去吃」「那是你嘛 你不要臉嘛 我說正常的」 我就想說 不行 我們一定要做個企劃 就是有一天要讓自己的胃滿足 大滿足 所以今天的企劃就是 早餐吃到飽\nprint(\u0026#34;HI\u0026#34;) 午餐吃到飽 #\r好 那今天呢 風光明媚風和日麗 因爲我以前在唸書的時候 我常常覺得很奇怪就是我到學校然後看他們吃什麼午餐都是吃一份蛋餅配一杯奶茶 或是 一個漢堡配一杯奶茶 或是一份蘿蔔糕配一杯奶茶 每次吃完都說啊我吃飽了我心裡就想說：「這真的可以吃飽？」因爲你知道我通常午餐我都點3份可能 3個 我想說這樣就能吃飽？一定是唬人的嘛 我才想到說大家都是要面子的：「沒有沒有 我都帶好幾份去吃」「那是你嘛 你不要臉嘛 我說正常的」 我就想說 不行 我們一定要做個企劃 就是有一天要讓自己的胃滿足 大滿足 所以今天的企劃就是 午餐吃到飽\n晚餐吃到飽 #\r好 那今天呢 風光明媚風和日麗 因爲我以前在唸書的時候 我常常覺得很奇怪就是我到學校然後看他們吃什麼晚餐都是吃一份蛋餅配一杯奶茶 或是 一個漢堡配一杯奶茶 或是一份蘿蔔糕配一杯奶茶 每次吃完都說啊我吃飽了我心裡就想說：「這真的可以吃飽？」因爲你知道我通常晚餐我都點3份可能 3個 我想說這樣就能吃飽？一定是唬人的嘛 我才想到說大家都是要面子的：「沒有沒有 我都帶好幾份去吃」「那是你嘛 你不要臉嘛 我說正常的」 我就想說 不行 我們一定要做個企劃 就是有一天要讓自己的胃滿足 大滿足 所以今天的企劃就是 晚餐吃到飽\n","date":"27 May 2024","externalUrl":null,"permalink":"/posts/myfirstpost/","section":"Posts","summary":"值得紀念的第一篇文","title":"先發制人","type":"posts"},{"content":"\r副標題\r大標題 #\r段落標題 #\r換行 文字內容\nNew article!\r按鈕\rBetan423/Betan423.github.io\rHTML 0\r0\r最近的文章\rDC音樂機器人製作\r25 July 2024\r透過chatGPT抄來的機器人\r2024 MyFirstCTF WriteUp\r30 June 2024\r2024ㄉMyFirstCTF跟pre-examㄉWriteUp\rgraph LR;\rA[共通線]--\u003eB[八六];\rB--\u003eC[奧莉薇]\r","date":"23 April 2005","externalUrl":null,"permalink":"/%E9%A0%90%E8%A8%AD/","section":"模板","summary":"複製用模板","title":"模板","type":"預設"},{"content":"\r2024-AIS3的心得\r還沒去 之後再寫 #\r組別: B8 #\r","date":"1 January 0001","externalUrl":null,"permalink":"/posts/2024ais3/","section":"Posts","summary":"2024ㄉAIS3ㄉ遊記","title":"2024 AIS3心得","type":"posts"},{"content":"\r2024 HITCONㄉ心得\r謝謝HITCON的學生免費門票 #\r我會好好寫心得的 #\r","date":"1 January 0001","externalUrl":null,"permalink":"/posts/2024hitcon/","section":"Posts","summary":"2024 HITCON心得","title":"2024 HITCON心得","type":"posts"},{"content":"","date":"1 January 0001","externalUrl":null,"permalink":"/authors/","section":"Authors","summary":"","title":"Authors","type":"authors"},{"content":"","date":"1 January 0001","externalUrl":null,"permalink":"/categories/","section":"Categories","summary":"","title":"Categories","type":"categories"},{"content":"","date":"1 January 0001","externalUrl":null,"permalink":"/series/","section":"Series","summary":"","title":"Series","type":"series"},{"content":"\r看看我給未來的自己畫了多少餅\r資安相關規劃 #\r●拍攝picoGym教學影片\r希望這個可以找別人一起拍 有意願的歡迎私訊跟我討論\n●參與2024-AIS3\n●參加台灣好厲駭第九屆\n●HITCON\n●NISRA接幹\n","date":"1 January 0001","externalUrl":null,"permalink":"/future/","section":"betan423.github.io","summary":"我ㄉ未來規劃。","title":"未來規劃","type":"page"},{"content":"\n這我 #\r嗨我是貝坦，一個誤打誤撞跑去學資安的怪人\n當初對於資安這塊完全沒概念，但大學不小心上了一個名子很長的資安系， 在經過一學期的各種講座洗禮以及自己稍微了解後，發現對於資安好像滿有興趣的， 結果就栽進這個無底洞了。\n資安經驗 #\r2023-9 NISRA社員\n2024-4 加入B33F 50μP戰隊\n競賽經驗 #\r2024 My First CTF 銀質獎/第5名\n","date":"1 January 0001","externalUrl":null,"permalink":"/authors/betan/","section":"Authors","summary":"","title":"我是貝坦betan","type":"authors"}]